<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width">
		<title>Decodificador de Texto</title>

		<link rel="stylesheet" href="reset.css">
		<link rel="stylesheet" href="style.css">
		<link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">

	</head>

	<body>
		<header>

			<img class="logo" src="logo.png" alt="Logo da alura - Letra 'a' estilizada">

		</header>

		<main>
            
			<section class="principal">

                <textarea class="entrada-texto" rows="21" cols="15" placeholder="Digite seu texto"></textarea>

				<h1 class="informacao">⚠ - Apenas letras minúsculas e sem acento.</h1>

				<div class="botoes">

					<button class="encriptar" onclick="btEncriptar()">Criptografar</button>
					<button class="desencriptar" onclick="btDesencriptar()">Descriptografar</button>

				</div>

			</section>

			<section class="saida">

				<textarea class="saida-texto" rows="21" cols="5"></textarea>

				<div class="botao-copiar">

					<button class="copiar" onclick="copiarTexto()">Copiar</button>

				</div>

			</section>

			<script>

				var entradaTexto = document.querySelector(".entrada-texto");
				var saidaTexto = document.querySelector(".saida-texto");		

				function btEncriptar() {
					var entradaEncrip = encriptar(entradaTexto.value);
					saidaTexto.value = entradaEncrip;
					entradaTexto.value = "";
				}

				function encriptar(entrada) {
					
					entrada = entrada.toLowerCase();
					var posicao = 0;
					var vogais = ["e", "i", "a", "o", "u"];
					var conversao = ["enter", "imes", "ai", "ober", "ufat"];

					for (posicao; posicao < vogais.length; posicao++) {

						if (entrada.includes(vogais[posicao])) {

							entrada = entrada.replaceAll(vogais[posicao], conversao[posicao])
						
						}  

					}

					return entrada;

				}

				function btDesencriptar() {
					var entradaDesencrip = desencriptar(entradaTexto.value);
					saidaTexto.value = entradaDesencrip;
					entradaTexto.value = "";
				}
				
				function desencriptar(saida) {

					saida = saida.toLowerCase();
					var posicao = 0;
					var vogais = ["e", "i", "a", "o", "u"];
					var conversao = ["enter", "imes", "ai", "ober", "ufat"];

					for (posicao; posicao < conversao.length; posicao++) {

						if (saida.includes(conversao[posicao])) {

							saida = saida.replaceAll(conversao[posicao], vogais[posicao])
						
						}  

					}

					return saida;
			
				}
				
				function copiarTexto() {
						var textoCopiado = saidaTexto;

						textoCopiado.select();
						document.execCommand("copy");
						saidaTexto.value = "";

						alert("Texto copiado com sucesso!")

					}
			
			</script>

		</main>

		<footer>
			<p class="copyright">&copy; Copyright <a href="https://linktr.ee/NettoJaime">Jaime Netto</a> - 2023. Programa ONE - Challenge Iniciante em Programação</p>
		</footer>
	</body>
</html>

